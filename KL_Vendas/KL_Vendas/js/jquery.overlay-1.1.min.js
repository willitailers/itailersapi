/* jquery.overlay-1.1.min.js
 * jQuery overlay plugin
 * Author: Jason Moon
 * Requires: jQuery 1.2.3 or later
 * Uncompressed: jquery.overlay-1.1.js
 */
(function(a){var l=a.browser.msie&&(a.browser.version<7);var z=0;var r=function(e,f){var g=e.toLowerCase();var d=null;var j=this;var k=function(){if(d){a.fn[g].call(a(d))}a.fn[g].call(a(this));return false};var c={};if(a.fn.data){c=a(this).data('overlay');j=c.contextNode;d=c.modalOverlay;if(c['on'+e]){k=c['on'+e]}}else{var n=a(this).attr('modal');if(n){d=a('#'+n)[0]}}if(d){if(a.browser.msie&&d.filters&&d.filters.alpha&&d.filters.alpha.opacity){a(d).css('opacity',parseInt(d.filters.alpha.opacity)/100)}j=d}var o=k;var i=f;if(a.isFunction(f)){o=f;i=k}if(c.onBeforeModal){c.onBeforeModal[g](this)}return o.call(this,j,i)};a.fn.overlay=function(m){m=m||{};var s=(m.modal)?true:false;var t=(typeof(m.centered)=='boolean')?m.centered:s;var b=a.extend({centerX:t,centerY:t,fixed:s,modal:false,drag:false},m);var p=(b.modal)?10000:1000;var A=(b.fixed&&!l)?'fixed':'absolute';var q=function(e){return parseInt(a.curCSS(this,'border'+e+'Width',true))||0};var u=function(e){if(a.fn.outerWidth){return a.fn['outer'+e].call(a(this))}else{var f=parseInt(a.curCSS(this,e.toLowerCase(),true));var g=(e=='Width')?['Left','Right']:['Top','Bottom'];for(var d=0;d<2;d++){f+=parseInt(a.curCSS(this,'padding'+g[d],true))+q.call(this,g[d])}return f}};return this.each(function(){var j=u.call(this,'Width');var k=u.call(this,'Height');if(b.modal||l){var c=a('<div style="z-index:'+p+'"></div>');if(b.modal){c.css(a.extend(b.modal.css||{},{position:(l)?'absolute':'fixed',display:a(this).css('display'),height:'100%',width:'100%',top:0,left:0}));if(b.modal.className){c.addClass(b.modal.className)}else if(b.modal.id){c.attr('id',b.modal.id)}else{c.css(a.extend({backgroundColor:'#000000',opacity:0.65},b.modal.css||{}))}c.appendTo('body')}else{a(this).wrapInner('<div style="position:relative;z-index:'+(p+2)+';"></div>').prepend(c.css({position:'absolute',top:'-'+q.call(this,'Top')+'px',left:'-'+q.call(this,'Left')+'px',width:j+'px',height:k+'px'}))}}if(a.fn.data){var n=null;if(b.modal){n={show:function(f){a(document).keydown(function(e){if(e.keyCode==27){if(a(f).is(':visible')){a(f).hideOverlay()}}})},hide:function(){a(document).unbind('keydown')}}}a(this).data('overlay',{modalOverlay:(b.modal)?c[0]:null,onBeforeModal:n,onShow:b.onShow||null,onHide:b.onHide||null,contextNode:(!b.modal&&l)?a('div:last-child',this)[0]:this})}else{if(window.console&&(b.onShow||b.onHide)){console.warn('The jQuery overlay plugin onShow/onHide callbacks are not supported in jQuery versions prior to 1.2.3!')}if(b.modal){var o=b.modal.id||'modal_overlay_'+(++z);c.attr('id',o);a(this).attr('modal',o)}}if(b.modal||b.centerX||b.centerY||b.fixed){var i={position:A,zIndex:p+1};if(b.centerX){i.left='50%';i.marginLeft=Math.floor(j/-2)+'px'}if(b.centerY){i.top='50%';i.marginTop=Math.floor(k/-2)+'px'}a(this).css(i).appendTo('body')}else{a(this).css('position','absolute')}if(l){var h=function(e){return'document.documentElement&&document.documentElement.'+e+'||document.body.'+e};if(b.modal){c[0].style.setExpression('height','Math.max('+h('scrollHeight')+','+h('clientHeight')+')+"px"');c[0].style.setExpression('width','Math.max('+h('scrollWidth')+','+h('clientWidth')+')+"px"')}if(b.fixed){if(a('body').css('background-image')=='none'){a('body').css('background-image','url(none)')}a('body').css('background-attachment','fixed');var v=!(a(this).css('display')!='none');if(v){a(this).show()}var w=a(this).offset();if(v){a(this).hide()}var B=(b.centerY)?'Math.floor(('+h('clientHeight')+')/2)':'parseInt('+w.top+')';var C=(b.centerX)?'Math.floor(('+h('clientWidth')+')/2)':'parseInt('+w.left+')';this.style.setExpression('top','('+B+'+('+h('scrollTop')+'))+"px"');this.style.setExpression('left','('+C+'+('+h('scrollLeft')+'))+"px"')}var x=a('<iframe src="javascript:false;"></iframe>').css({position:'absolute',height:(b.modal)?'100%':k+'px',width:(b.modal)?'100%':j+'px',opacity:0,zIndex:p-1}).appendTo(c)[0];if(b.modal){x.style.setExpression('height','Math.max('+h('scrollHeight')+','+h('clientHeight')+')+"px"');x.style.setExpression('width','Math.max('+h('scrollWidth')+','+h('clientWidth')+')+"px"')}}if(b.drag&&a.fn.draggable&&!(b.fixed&&l)){a(this).draggable(b.drag)}var y=this;a.each(['Show','Hide'],function(e,f){var g=f.toLowerCase();if(b[g+'Selector']){var d=(f=='Hide')?y:document;a(b[g+'Selector'],d).click(function(){if(b.centerY&&!b.fixed){self.scrollTo(0,0)}return r.call(y,f,this)})}})})};a.each(['Show','Hide'],function(f,g){a.fn[g.toLowerCase()+'Overlay']=function(e){return this.each(function(){r.call(this,g,e)})}})})(jQuery);